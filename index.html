<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{margin:0;font-family:Segoe UI,Arial;background:#f6f6f6}
header{background:#fff;padding:15px 40px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 2px 6px rgba(0,0,0,.1)}
.brand{display:flex;align-items:center}
.brand img{height:40px}
.brand h1{margin-left:12px;color:#e53935}
button{background:#e53935;color:#fff;border:none;padding:8px 14px;border-radius:8px;cursor:pointer}
button.secondary{background:#555}
.container{padding:40px}
.products{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:20px}
.card{background:#fff;border-radius:14px;padding:20px;box-shadow:0 6px 14px rgba(0,0,0,.08)}
.card img{width:100%;border-radius:10px;margin-bottom:10px}
.price{color:#e53935;font-weight:bold;margin-bottom:10px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center}
.modal-content{background:#fff;border-radius:14px;padding:25px;width:340px}
input,select{width:100%;padding:10px;margin-bottom:10px;border-radius:8px;border:1px solid #ccc}
</style>
</head>
<body>
<header>
  <div class="brand"><img src="logo.png"><h1>Evona</h1></div>
  <div>
    <button onclick="openAdminLogin()">Админ</button>
  </div>
</header>

<div class="container">
  <h2>Каталог</h2>
  <div class="products" id="products"></div>
</div>

<!-- Админ логин -->
<div class="modal" id="adminLogin">
  <div class="modal-content">
    <h3>Вход администратора</h3>
    <input id="adminPass" type="password" placeholder="Пароль">
    <button onclick="adminAuth()">Войти</button>
  </div>
</div>

<!-- Админ панель -->
<div class="modal" id="adminPanel">
  <div class="modal-content">
    <h3>Добавить товар</h3>
    <input id="pname" placeholder="Название">
    <input id="pprice" type="number" placeholder="Цена">
    <input id="pimg" placeholder="URL фото товара">
    <button onclick="addProduct()">Добавить</button>
  </div>
</div>

<script>
// ❌ Firebase полностью удалён
// ✔ Используется localStorage (работает на GitHub Pages)

const ADMIN_PASSWORD = '1234'; // поменяй

let products = JSON.parse(localStorage.getItem('products') || '[]');
if(products.length === 0){
  products = [
    {id:1,name:'Evona T - Shirt',price:20000,img:'https://via.placeholder.com/300'},
    {id:2,name:'Evona Hoodie',price:12990,img:'https://images.unsplash.com/photo-1520975916090-3105956dac38?w=600'}
  ];
  localStorage.setItem('products', JSON.stringify(products));
}

function render(){
  productsDiv.innerHTML='';
  products.forEach(p=>{
    const c=document.createElement('div');
    c.className='card';
    c.innerHTML=`<img src='${p.img}'><h3>${p.name}</h3><div class='price'>${p.price} ₸</div>`;
    productsDiv.appendChild(c);
  });
}

function openAdminLogin(){adminLogin.style.display='flex'}

function adminAuth(){
  if(adminPass.value === ADMIN_PASSWORD){
    adminLogin.style.display='none';
    adminPanel.style.display='flex';
  } else alert('Неверный пароль');
}

function addProduct(){
  products.push({
    id: Date.now(),
    name: pname.value,
    price: +pprice.value,
    img: pimg.value
  });
  localStorage.setItem('products', JSON.stringify(products));
  adminPanel.style.display='none';
  render();
}

render();
</script>
</body>
</html>
